<div class="row" style="margin: 0; padding: 0;">

  <div class="col-8" style="padding: 0;">
    <div class="card p-5">
      <h1>Chat Application</h1>

      <p>Logged in as <%= current_user.email %></p>
      <p><%= image_tag(current_user.avatar_thumbnail) %></p>

      <% if current_user %>
        <div class="btn-group">
          <%= link_to 'Start Chatting', rooms_path, class: 'btn btn-primary' %>
          <%= button_to 'Edit Account', edit_user_registration_path, class: 'btn btn-secondary' %>
          <%= button_to 'Logout', destroy_user_session_path, data: { turbo_method: :delete }, class: 'btn btn-danger' %>
        </div>
      <% else %>
        <div class="btn-group">
          <%= link_to 'Login', new_user_session_path, class: 'btn btn-primary' %>
          <%= link_to 'Sign up', new_user_registration_path, class: 'btn btn-secondary' %>
        </div>
      <% end %>
    </div>
  </div>

  <div class="col-4" id="public_messages" style="overflow: hidden; height: calc(100vh-56); padding: 0;">
  <%= turbo_stream_from 'public_messages' %>
    <% @messages.each do |message| %>
      <%= render 'messages/messages_preview', message: message %>
    <% end %>
  </div>
</div>